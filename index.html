<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wildlands SMP - Dein Minecraft Abenteuer</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    /* Dein bestehendes CSS (gek√ºrzt) */
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#0a0e1a; color:#fff; overflow-x:hidden; }
    header { height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; }
    .logo { font-size:5rem; font-weight:bold; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation:glow 2s ease-in-out infinite; }
    @keyframes glow { 0%,100%{filter:drop-shadow(0 0 20px rgba(102,126,234,0.5));} 50%{filter:drop-shadow(0 0 40px rgba(102,126,234,0.8));}}
    .btn { padding:1rem 2.5rem; border:none; border-radius:50px; cursor:pointer; font-weight:600; text-decoration:none; display:inline-block; transition:0.3s; }
    .btn-primary { background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; box-shadow:0 10px 30px rgba(102,126,234,0.4); }
    .btn-primary:hover { transform:translateY(-3px); box-shadow:0 15px 40px rgba(102,126,234,0.6); }
    .server-info { background:rgba(255,255,255,0.05); backdrop-filter:blur(20px); border-radius:20px; padding:3rem; margin:5rem auto; max-width:900px; box-shadow:0 20px 60px rgba(0,0,0,0.3); text-align:center; }
    .ip-box { background:rgba(0,0,0,0.3); border:2px solid #667eea; border-radius:15px; padding:2rem; margin:2rem 0; }
    .copy-btn { margin-top:1rem; padding:0.5rem 1.5rem; background:rgba(102,126,234,0.2); border:1px solid #667eea; color:#667eea; border-radius:25px; cursor:pointer; }
    .copy-btn:hover { background:#667eea; color:white; }
    footer { text-align:center; padding:3rem; background:rgba(0,0,0,0.3); margin-top:5rem; }

    /* Spieleranzeige */
    .player-section {
      margin-top: 3rem;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
    }

    .player-section h3 {
      color: #667eea;
      margin-bottom: 1rem;
    }

    .player-count {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      color: #a0aec0;
    }

    .player-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5rem;
    }

    .player-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 1rem;
      width: 120px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: 0.3s;
    }

    .player-card:hover {
      transform: translateY(-5px);
      border-color: #667eea;
    }

    .player-skin {
      width: 64px;
      height: 64px;
      border-radius: 8px;
      image-rendering: pixelated;
    }

    .player-name {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #fff;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <canvas id="bg-canvas"></canvas>

  <header>
    <div class="logo">WILDLANDS SMP</div>
    <div class="tagline">Erlebe das ultimative Survival-Abenteuer</div>
    <div class="cta-buttons">
      <button class="btn btn-primary" onclick="copyIP()">Server IP kopieren</button>
      <a href="https://discord.gg/vSxFaHfbJA" target="_blank" class="btn btn-secondary">Discord beitreten</a>
    </div>
  </header>

  <div class="container">
    <div class="server-info">
      <h2>Verbinde dich mit uns</h2>
      <div class="ip-box">
        <div class="ip-label">SERVER IP</div>
        <div class="ip-address" id="serverIP">89.106.95.11:25572</div>
        <button class="copy-btn" onclick="copyIP()">üìã Kopieren</button>
      </div>

      <!-- LIVE SPIELERANZEIGE -->
      <div class="player-section" id="player-section">
        <h3>üåê Aktive Spieler</h3>
        <div id="player-count" class="player-count">Lade Serverdaten...</div>
        <div id="player-list" class="player-list"></div>
      </div>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Wildlands SMP. Alle Rechte vorbehalten.</p>
    <p style="color: #a0aec0;">Nicht mit Mojang Studios verbunden</p>
  </footer>

  <script>
    // Hintergrund (Three.js)
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.position.z = 5;

    const geometry = new THREE.BufferGeometry();
    const vertices = [], colors = [];
    for (let i = 0; i < 2000; i++) {
      vertices.push((Math.random() - 0.5) * 100, (Math.random() - 0.5) * 100, (Math.random() - 0.5) * 100);
      colors.push(Math.random() * 0.5 + 0.5, Math.random() * 0.3 + 0.4, Math.random() * 0.8 + 0.2);
    }
    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
    geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));
    const material = new THREE.PointsMaterial({ size: 0.1, vertexColors: true, transparent: true, opacity: 0.8 });
    const particles = new THREE.Points(geometry, material);
    scene.add(particles);

    function animate() {
      requestAnimationFrame(animate);
      particles.rotation.x += 0.0003;
      particles.rotation.y += 0.0005;
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // IP Kopieren
    function copyIP() {
      const ip = document.getElementById('serverIP').textContent;
      navigator.clipboard.writeText(ip).then(() => alert("Server-IP kopiert!"));
    }

    // Live-Spieleranzeige
    async function loadServerStatus() {
      const ip = "89.106.95.11:25572";
      const apiUrl = `https://api.mcstatus.io/v2/status/java/${ip}`;
      const playerCount = document.getElementById("player-count");
      const playerList = document.getElementById("player-list");

      try {
        const res = await fetch(apiUrl);
        const data = await res.json();

        if (!data.online) {
          playerCount.textContent = "‚ùå Der Server ist derzeit offline.";
          return;
        }

        const online = data.players.online;
        const max = data.players.max;
        playerCount.textContent = `üü¢ ${online} von ${max} Spielern online`;

        playerList.innerHTML = "";

        if (online === 0) {
          playerList.innerHTML = "<p style='color:#a0aec0'>Niemand ist derzeit online üò¥</p>";
          return;
        }

        data.players.list?.forEach(player => {
          const skinUrl = `https://mc-heads.net/avatar/${player.uuid}/64`;
          const card = document.createElement("div");
          card.className = "player-card";
          card.innerHTML = `
            <img class="player-skin" src="${skinUrl}" alt="Skin">
            <div class="player-name">${player.name_clean}</div>
          `;
          playerList.appendChild(card);
        });

      } catch (e) {
        console.error("Fehler beim Abrufen der Serverdaten:", e);
        playerCount.textContent = "‚ö†Ô∏è Konnte Serverstatus nicht laden.";
      }
    }

    loadServerStatus();
    setInterval(loadServerStatus, 30000); // alle 30 Sekunden aktualisieren
  </script>
</body>
</html>
